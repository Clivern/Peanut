"use strict";(self["webpackChunkpeanut"]=self["webpackChunkpeanut"]||[]).push([[167],{6167:function(e,s,i){i.r(s),i.d(s,{default:function(){return l}});var t=function(){var e=this,s=e._self._c;return s("section",[s("div",{staticClass:"columns is-desktop is-centered"},[s("div",{staticClass:"column"}),s("div",{staticClass:"column is-three-quarters"},[s("b-table",{ref:"table",attrs:{data:e.data,paginated:"","per-page":"20","opened-detailed":e.defaultOpenedDetails,detailed:"","detail-key":"id","detail-transition":e.transitionName,"show-detail-icon":e.showDetailIcon,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},scopedSlots:e._u([{key:"detail",fn:function(i){return[s("code",[e._v(e._s(i.row.configs))])]}}])},[s("b-table-column",{attrs:{field:"service",label:"Service",centered:""},scopedSlots:e._u([{key:"default",fn:function(s){return[e._v(" "+e._s(e.services[s.row.service])+" ")]}}])}),s("b-table-column",{attrs:{field:"address",label:"Address",centered:""},scopedSlots:e._u([{key:"default",fn:function(i){return[s("span",{staticClass:"tag is-success is-light"},[e._v(" "+e._s(i.row.configs.address)+" ")])]}}])}),s("b-table-column",{attrs:{field:"version",label:"Version",centered:""},scopedSlots:e._u([{key:"default",fn:function(i){return[s("span",{staticClass:"tag is-success is-light"},[e._v(" "+e._s(i.row.version)+" ")])]}}])}),s("b-table-column",{attrs:{field:"id",label:"UUID",centered:""},scopedSlots:e._u([{key:"default",fn:function(i){return[s("span",{staticClass:"tag is-warning is-light"},[e._v(e._s(i.row.id))])]}}])}),s("b-table-column",{attrs:{field:"deleteAfter",label:"Delete After",centered:""},scopedSlots:e._u([{key:"default",fn:function(i){return[s("span",{staticClass:"tag is-success is-light"},[""!=i.row.deleteAfter?[e._v(" "+e._s(i.row.deleteAfter)+" ")]:[e._v("N/A")]],2)]}}])}),s("b-table-column",{attrs:{field:"createdAt",label:"Created at",centered:""},scopedSlots:e._u([{key:"default",fn:function(i){return[s("span",{staticClass:"tag is-danger is-light"},[e._v(" "+e._s(new Date(i.row.createdAt).toLocaleDateString())+" ")])]}}])}),s("b-table-column",{attrs:{label:"Actions",centered:""},scopedSlots:e._u([{key:"default",fn:function(i){return["grafana"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"graphite"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"prometheus"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"zipkin"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"mailhog"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"jaeger"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"rabbitmq"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"minio"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"consul"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"vault"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"ghost"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"etherpad"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"nagios"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),"httpbin"==i.row.service?[s("b-button",{attrs:{size:"is-small",type:"is-link is-success is-light"},on:{click:function(s){return e.openServiceDashboard(i.row)}}},[e._v("Visit")]),e._v(" - ")]:e._e(),s("b-button",{attrs:{size:"is-small",type:"is-link is-danger is-light"},on:{click:function(s){return e.deleteService(i.row.id)}}},[e._v("Delete")])]}}])}),s("td",{attrs:{slot:"empty",colspan:"6"},slot:"empty"},[e._v("No records found.")])],1)],1),s("div",{staticClass:"column"})])])},r=[],o={name:"ServicesPage",data(){return{data:[],defaultOpenedDetails:[1],showDetailIcon:!0,useTransition:!1,loader:{isFullPage:!0,ref:null},services:{mysql:"MySQL",mariadb:"MariaDB",postgresql:"PostgreSQL",redis:"Redis",etcd:"Etcd",grafana:"Grafana",elasticsearch:"Elasticsearch",mongodb:"MongoDB",graphite:"Graphite",prometheus:"Prometheus",zipkin:"Zipkin",memcached:"Memcached",mailhog:"Mailhog",jaeger:"Jaeger",rabbitmq:"RabbitMQ",consul:"Consul",vault:"Vault",cassandra:"Cassandra",minio:"Minio",registry:"Registry",ghost:"Ghost",httpbin:"Httpbin",etherpad:"Etherpad",nagios:"Nagios"}}},computed:{transitionName(){return this.useTransition?"fade":""}},methods:{loading(){this.loader.ref=this.$buefy.loading.open({container:this.loader.isFullPage?null:this.$refs.element.$el})},loadInitialState(){this.loading(),this.$store.dispatch("service/getServicesAction",{}).then((()=>{let e=this.$store.getters["service/getServicesResult"];e.services?this.data=e.services:this.data=[],this.loader.ref.close()}),(e=>{this.$buefy.toast.open({message:e.response.data.errorMessage,type:"is-danger is-light"}),this.loader.ref.close()}))},openServiceDashboard(e){"grafana"==e.service&&window.open("//"+e.configs.address+":"+e.configs.port),"graphite"==e.service&&window.open("//"+e.configs.address+":"+e.configs.webPort),"prometheus"==e.service&&window.open("//"+e.configs.address+":"+e.configs.port),"zipkin"==e.service&&window.open("//"+e.configs.address+":"+e.configs.port),"ghost"==e.service&&window.open("//"+e.configs.address+":"+e.configs.port),"httpbin"==e.service&&window.open("//"+e.configs.address+":"+e.configs.port),"etherpad"==e.service&&window.open("//"+e.configs.address+":"+e.configs.port),"nagios"==e.service&&window.open("//"+e.configs.address+":"+e.configs.port),"mailhog"==e.service&&window.open("//"+e.configs.address+":"+e.configs.httpPort),"jaeger"==e.service&&window.open("//"+e.configs.address+":"+e.configs.httpPort2),"rabbitmq"==e.service&&window.open("//"+e.configs.address+":"+e.configs.dashboardPort),"consul"==e.service&&window.open("//"+e.configs.address+":"+e.configs.httpPort),"vault"==e.service&&window.open("//"+e.configs.address+":"+e.configs.httpPort),"minio"==e.service&&window.open("//"+e.configs.address+":"+e.configs.consolePort)},deleteService(e){this.$buefy.dialog.confirm({message:"Are you sure?",onConfirm:()=>{this.$store.dispatch("service/deleteServiceAction",{serviceId:e}).then((()=>{this.loading();let e=this.$store.getters["service/getDeleteServiceResult"];var s=setInterval((()=>{this.$store.dispatch("service/getJobAction",{serviceId:e.service,jobId:e.id}).then((()=>{}),(()=>{this.$buefy.toast.open({message:"Service delete successfully!",type:"is-success"}),this.loader.ref.close(),this.loadInitialState(),clearInterval(s)}))}),3e3)}),(e=>{e.response.data.errorMessage?this.$buefy.toast.open({message:e.response.data.errorMessage,type:"is-danger is-light"}):this.$buefy.toast.open({message:"Error status code: "+e.response.status,type:"is-danger is-light"})}))}})}},mounted(){this.loadInitialState()}},n=o,a=i(1001),c=(0,a.Z)(n,t,r,!1,null,null,null),l=c.exports}}]);
//# sourceMappingURL=167.893f9c3f.js.map